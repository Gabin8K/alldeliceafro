import{R as A}from"./MazDialog-fdEu8dqH-79fc69b2.js";import{D as M}from"./MazInputNumber-DSWPuRyf-80c0e0ff.js";import{X as D}from"./MazSelect-qw3H2BrO-4eb8767a.js";import{r as E,T as $,c as f,a as r,u as i,w as n,F as x,o as g,Z as B,b as e,t as m,d as b,f as N,g as H,j as z,e as U,Q as w}from"./app-87e4b527.js";import{_ as q}from"./AuthenticatedLayout-cd5bbb9d.js";import{O as k}from"./MazBtn-DgGnjAgh-dfd0a08f.js";import{_ as y}from"./InputError-937ebae9.js";import"./ApplicationLogo-dfe0f8b3.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-b5db98bd.js";const F={class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},T={class:"py-12"},X={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg p-5"},I={class:""},P={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Q={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4"},R={class:"bg-white p-4 rounded-xl shadow-md"},W={class:"overflow-hidden hover:cursor-pointer"},G=["src","alt"],J={class:"text-xl font-bold mt-3"},K={class:"mt-2 flex justify-between items-center"},Y={class:"text-2xl font-extrabold"},ee={class:"flex gap-3"},te=["onClick"],se=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})],-1),oe=[se],le=["onClick"],ie=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})],-1),re=[ie],ne=["onSubmit"],ae=e("div",{class:"p-4 text-center"}," No result ",-1),xe={__name:"Edit",props:{shop:{type:Object},articles:{type:Object}},setup(u){const _=u,c=E(!1);let p=!1,h=[];const t=$({article_id:"",price:""}),S=()=>{if(p)return h;const s=[],l=_.articles;for(let a=0,v=l.length;a<v;a++){const d=l[a];s.push({valueOption:d.id,labelOption:d.name_en,inputLabel:d.name_en})}return s};function L(){t.reset(),t.clearErrors(),p=!1,h=[]}function O(s){t.article_id=s.id,t.price=s.pivot.price,p=!0,h.push({valueOption:s.id,labelOption:s.name_en,inputLabel:s.name_en,isSelected:!0}),c.value=!0}const V=()=>{p?t.patch(route("admin.shops.update.article",[w().props.currentLocale,_.shop.id]),{preserveScroll:!0,preserveState:s=>Object.keys(s.props.errors).length}):t.post(route("admin.shops.store.article",[w().props.currentLocale,_.shop.id]),{preserveScroll:!0,preserveState:s=>Object.keys(s.props.errors).length})},C=s=>{t.article_id=s.id};return(s,l)=>{const a=D,v=M,d=A;return g(),f(x,null,[r(i(B),{title:"Shop"}),r(q,null,{header:n(()=>[e("h2",F,m(u.shop.name),1)]),default:n(()=>[e("div",T,[e("div",X,[e("div",Z,[e("div",I,[r(i(k),{onClick:l[0]||(l[0]=o=>c.value=!0),outline:""},{default:n(()=>[b(" Add Article ")]),_:1})])])])]),e("div",P,[e("div",Q,[(g(!0),f(x,null,N(u.shop.articles,o=>(g(),f("div",R,[e("div",W,[H(e("img",{class:"hover:scale-105 transform transition duration-200 h-32 object-cover",src:o.images[0].url,alt:o.images[0].name},null,8,G),[[i(z)]])]),e("div",J,m(o.name_en),1),e("small",null,m(o.description_en),1),e("div",K,[e("div",Y,m(o.pivot.price)+"â‚¬",1),e("div",ee,[e("div",{onClick:j=>O(o),class:"cursor-pointer hover:text-blue-500"},oe,8,te),e("div",{onClick:j=>C(o),class:"cursor-pointer hover:text-red-500"},re,8,le)])])]))),256))])]),r(d,{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=o=>c.value=o),title:"Add article",width:"800px",maxHeight:"80vh",scrollable:"",onClose:l[4]||(l[4]=o=>L())},{default:n(()=>[e("form",{onSubmit:U(V,["prevent"]),class:"space-y-6"},[e("div",null,[r(a,{modelValue:i(t).article_id,"onUpdate:modelValue":l[1]||(l[1]=o=>i(t).article_id=o),label:"Select an item",options:S(),"option-value-key":"valueOption","option-label-key":"labelOption","option-input-value-key":"inputLabel",search:"",maxListWidth:"fitt",required:""},{"no-results":n(()=>[ae]),_:1},8,["modelValue","options"]),r(y,{class:"mt-1",message:i(t).errors.article_id},null,8,["message"])]),e("div",null,[r(v,{modelValue:i(t).price,"onUpdate:modelValue":l[2]||(l[2]=o=>i(t).price=o),label:"Price (in cent)",min:"0","no-buttons":"",class:"w-full","text-center":!1,required:""},null,8,["modelValue"]),r(y,{class:"mt-1",message:i(t).errors.price},null,8,["message"])]),r(i(k),{type:"submit",disabled:i(t).processing||!i(t).isDirty,block:""},{default:n(()=>[b(" Save ")]),_:1},8,["disabled"])],40,ne)]),_:1},8,["modelValue"])]),_:1})],64)}}};export{xe as default};
